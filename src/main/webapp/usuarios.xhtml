<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Gesti√≥n de usuarios</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap"/>
    <h:outputStylesheet library="css" name="usuarios.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</h:head>
<h:body>
    <!-- HEADER -->
    <header class="main-header">
        <div class="logo-area">
            <h:graphicImage library="img" name="Logo.png" alt="Logo Proveedor 3 Motores"/>
        </div>
        <nav class="main-nav">
            <a href="/Proveedores3/dashboard.xhtml" class="nav-link">Inicio</a>
            <a href="/Proveedores3/usuarios.xhtml" class="nav-link active">Usuarios</a>
            <a href="#" class="nav-link">Ventas</a>
            <a href="#" class="nav-link">Inventario</a>
        </nav>
    </header>

    <main class="usuarios-main">
        <div class="usuarios-title-block">
            <h1 class="usuarios-title">Gesti√≥n de usuarios</h1>
            <p class="usuarios-desc">Administra los usuarios del sistema, consulta su informaci√≥n o agrega nuevos usuarios.</p>
            <h:commandButton value="Ôºã Agregar usuario" styleClass="usuarios-btn" action="#{usuarioBean.agregarUsuario}" />
        </div>
        <div class="usuarios-table-block">
            <div class="usuarios-search">
                <span class="usuarios-search-icon">üîç</span>
                <h:inputText value="#{usuarioBean.filtro}" styleClass="usuarios-search-input"
                            >
                    <f:ajax event="keyup" render="tablaUsuarios"/>
                </h:inputText>
            </div>
            <h:dataTable value="#{usuarioBean.usuariosFiltrados}" var="u"
                         styleClass="usuarios-table" headerClass="usuarios-th"
                         id="tablaUsuarios">
                <h:column>
                    <f:facet name="header">Nombre completo</f:facet>
                    #{u.nombre}
                </h:column>
                <h:column>
                    <f:facet name="header">Correo electr√≥nico</f:facet>
                    #{u.correo}
                </h:column>
                <h:column>
                    <f:facet name="header">Rol</f:facet>
                    <span class="badge #{u.rol eq 'Admin' ? 'admin' : 'user'}">
                        #{u.rol}
                    </span>
                </h:column>
                <h:column>
                    <f:facet name="header">Acciones</f:facet>
                   <h:commandLink styleClass="icon-btn" title="Editar" action="#{usuarioBean.editarUsuario(u)}">
    <i class="fa fa-pen"></i>
</h:commandLink>
<h:commandLink styleClass="icon-btn" title="Eliminar" action="#{usuarioBean.eliminarUsuario(u)}">
    <f:ajax render="tablaUsuarios"/>
    <i class="fa fa-trash"></i>
</h:commandLink>
                </h:column>
            </h:dataTable>
        </div>
    </main>
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-brand">Nombre del sitio</div>
            <div class="footer-links">
                <div class="footer-col">
                    <div class="footer-title">Recursos</div>
                    <a href="#" class="footer-link">Documentaci√≥n</a>
                    <a href="#" class="footer-link">API</a>
                    <a href="#" class="footer-link">Soporte</a>
                </div>
                <div class="footer-col">
                    <div class="footer-title">Empresa</div>
                    <a href="#" class="footer-link">Acerca de</a>
                    <a href="#" class="footer-link">Carreras</a>
                    <a href="#" class="footer-link">Contacto</a>
                </div>
                <div class="footer-col">
                    <div class="footer-title">Legal</div>
                    <a href="#" class="footer-link">Privacidad</a>
                    <a href="#" class="footer-link">T√©rminos</a>
                    <a href="#" class="footer-link">Pol√≠tica de Cookies</a>
                </div>
            </div>
        </div>
    </footer>
</h:body>
</html>